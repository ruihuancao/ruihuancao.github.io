<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="React开发"/>




  <meta name="keywords" content="React, 散落的蒲公英" />










  <link rel="alternate" href="/default" title="散落的蒲公英">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.10.1" />



<link rel="canonical" href="https://ruihuancao.github.io/2016/04/12/React项目/"/>



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />




  <link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css" />



<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.10.1" />



  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>








<script>
  window.config = {"title":"散落的蒲公英","subtitle":"万物之中，希望至美；至美之物，永不凋零","description":"我们就这样一起到老吧","author":"曹瑞环","language":"zh-CN","timezone":null,"url":"https://ruihuancao.github.io","root":"/","permalink":":year/:month/:day/:title/","permalink_defaults":null,"source_dir":"source","public_dir":"public","tag_dir":"tags","archive_dir":"archives","category_dir":"categories","code_dir":"downloads/code","i18n_dir":":lang","skip_render":null,"new_post_name":":title.md","default_layout":"post","titlecase":false,"external_link":true,"filename_case":0,"render_drafts":false,"post_asset_folder":false,"relative_link":false,"future":true,"highlight":{"enable":true,"auto_detect":true,"line_number":false,"tab_replace":null},"default_category":"uncategorized","category_map":null,"tag_map":null,"date_format":"YYYY-MM-DD","time_format":"HH:mm:ss","per_page":15,"pagination_dir":"page","theme":"even","deploy":{"type":"git","repo":"git@github.com:ruihuancao/ruihuancao.github.io.git","branch":"master"},"ignore":[],"avatar":"/images/avatar.png","favicon":"/favicon.ico","archive_generator":{"per_page":20,"yearly":true,"monthly":true,"daily":false},"category_generator":{"per_page":20},"index_generator":{"per_page":20,"order_by":"-date"},"tag_generator":{"per_page":20},"marked":{"gfm":true,"pedantic":false,"sanitize":false,"tables":true,"breaks":true,"smartLists":true,"smartypants":true,"modifyAnchors":"","autolink":true},"server":{"port":4000,"log":false,"compress":false,"header":true},"since":2015,"rss":"default","menu":{"Home":"/","Archives":"/archives/","Categories":"/categories/","Tags":"/tags"},"color":"cobalt blue","mode":"default","toc":true,"fancybox":true,"pjax":true,"copyright":{"enable":false,"license":"<a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc/4.0/\" target=\"_blank\">知识共享署名-非商业性使用 4.0 国际许可协议</a>"},"reward":{"enable":false,"qrCode":{"wechat":null,"alipay":null}},"social":{"email":"ruihuancao@email.com","github":"https://github.com/ruihuancao"},"leancloud":{"app_id":null,"app_key":null},"baidu_analytics":null,"baidu_verification":null,"google_analytics":null,"google_verification":null,"disqus_shortname":null,"changyan":{"appid":null,"appkey":null},"livere_datauid":null,"version":"2.10.1"};
</script>

    <title> React开发 - 散落的蒲公英 </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">散落的蒲公英</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            归档
          
        </li>
      </a>
    
      <a href="/categories/">
        <li class="mobile-menu-item">
          
          
            分类
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            标签
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">散落的蒲公英</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories/">
            
            
              分类
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              标签
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          React开发
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-04-12
        </span>
        
          <span class="post-category">
            
              <a href="/categories/React/">React</a>
            
          </span>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#React-项目搭建"><span class="toc-text">React 项目搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#新建目录"><span class="toc-text">新建目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-config-js"><span class="toc-text">webpack.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#server-js"><span class="toc-text">server.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gitgnore"><span class="toc-text">.gitgnore</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#babelrc"><span class="toc-text">.babelrc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#index-js"><span class="toc-text">index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#index-html"><span class="toc-text">index.html</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package-json"><span class="toc-text">package.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#configureStore-js"><span class="toc-text">configureStore.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#action"><span class="toc-text">action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reducers"><span class="toc-text">reducers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Root-js"><span class="toc-text">Root.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React组件"><span class="toc-text">React组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redux-框架"><span class="toc-text">redux 框架</span></a></li></ol>
    </div>
  </div>



    <div class="post-content">
      
        <p>React 是一个用于构建用户界面的 JAVASCRIPT 库。在研究React Native的时候顺便看了一下，涉及到很多前端的知识，很多都没有深入了解，等以后完善。</p>
<a id="more"></a>
<h2 id="React-项目搭建"><a href="#React-项目搭建" class="headerlink" title="React 项目搭建"></a>React 项目搭建</h2><p>需要先安装node，自行安装</p>
<h3 id="新建目录"><a href="#新建目录" class="headerlink" title="新建目录"></a>新建目录</h3><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">mkdir reactTemplate</span><br><span class="line">cd reactTemplate</span><br><span class="line">npm init</span><br><span class="line">touch webpack<span class="selector-class">.config</span><span class="selector-class">.js</span></span><br><span class="line">touch server.js</span><br><span class="line">touch index.html</span><br><span class="line">touch .gitgnore</span><br><span class="line">touch .babelrc</span><br><span class="line"></span><br><span class="line">mkdir dist</span><br><span class="line"></span><br><span class="line">mkdir src</span><br><span class="line">cd src</span><br><span class="line">mkdir store</span><br><span class="line">mkdir reducers</span><br><span class="line">mkdir containers</span><br><span class="line">mkdir components</span><br><span class="line">mkdir actions</span><br></pre></td></tr></table></figure>
<h3 id="webpack-config-js"><a href="#webpack-config-js" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h3><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devtool: <span class="string">'source-map'</span>,</span><br><span class="line">  entry: [</span><br><span class="line">    <span class="comment">// 'webpack-hot-middleware/client',</span></span><br><span class="line">    <span class="string">'./index'</span></span><br><span class="line">  ],</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.join(__dirname, <span class="string">'static'</span>),</span><br><span class="line">    <span class="comment">//path: path.join("../", 'static'),</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">    publicPath: <span class="string">'/static/'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.OccurrenceOrderPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.NoErrorsPlugin()</span><br><span class="line">  ],</span><br><span class="line">  <span class="keyword">module</span>: &#123;</span><br><span class="line">    loaders: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        loaders: [ <span class="string">'babel'</span> ],</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        include: __dirname</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="server-js"><a href="#server-js" class="headerlink" title="server.js"></a>server.js</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="keyword">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">var</span> webpackDevMiddleware = <span class="keyword">require</span>(<span class="string">'webpack-dev-middleware'</span>)</span><br><span class="line"><span class="keyword">var</span> webpackHotMiddleware = <span class="keyword">require</span>(<span class="string">'webpack-hot-middleware'</span>)</span><br><span class="line"><span class="keyword">var</span> config = <span class="keyword">require</span>(<span class="string">'./webpack.config'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> (<span class="keyword">require</span>(<span class="string">'express'</span>))()</span><br><span class="line"><span class="keyword">var</span> port = <span class="number">3000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> compiler = webpack(config)</span><br><span class="line">app.<span class="keyword">use</span>(webpackDevMiddleware(compiler, &#123; noInfo: <span class="keyword">true</span>, publicPath: config.output.publicPath &#125;))</span><br><span class="line">app.<span class="keyword">use</span>(webpackHotMiddleware(compiler))</span><br><span class="line"></span><br><span class="line">app.<span class="keyword">use</span>(<span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> </span>&#123;</span><br><span class="line">  res.sendFile(__dirname + <span class="string">'/index.html'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(port, <span class="function"><span class="keyword">function</span><span class="params">(error)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (error) &#123;</span><br><span class="line">    console.error(error)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    console.info(<span class="string">"==&gt; 🌎  Listening on port %s. Open up http://localhost:%s/ in your browser."</span>, port, port)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="gitgnore"><a href="#gitgnore" class="headerlink" title=".gitgnore"></a>.gitgnore</h3><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">node_modules</span><br><span class="line"><span class="string">.idea/</span></span><br></pre></td></tr></table></figure>
<h3 id="babelrc"><a href="#babelrc" class="headerlink" title=".babelrc"></a>.babelrc</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [<span class="string">"es2015"</span>, <span class="string">"react"</span>],</span><br><span class="line">  <span class="attr">"env"</span>: &#123;</span><br><span class="line">    <span class="attr">"development"</span>: &#123;</span><br><span class="line">      <span class="attr">"presets"</span>: [<span class="string">"react-hmre"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'babel-polyfill'</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"><span class="keyword">import</span> Root <span class="keyword">from</span> <span class="string">'./containers/Root'</span></span><br><span class="line"><span class="keyword">import</span> configureStore <span class="keyword">from</span> <span class="string">'./store/configureStore'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = configureStore()</span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;Root store=&#123;store&#125; /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">class</span>=<span class="string">"no-js"</span> <span class="attr">lang</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Material-UI Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"Google's material design UI components built with React."</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Use minimum-scale=1 to enable GPU rasterization --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, user-scalable=0, maximum-scale=1, minimum-scale=1"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;link rel="stylesheet" type="text/css" href="main.css"&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    html &#123;</span></span><br><span class="line"><span class="undefined">      font-family: 'Roboto', sans-serif;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">      font-size: 13px;</span></span><br><span class="line"><span class="undefined">      line-height: 20px;</span></span><br><span class="line"><span class="undefined">      padding: 0px;</span></span><br><span class="line"><span class="undefined">      margin: 0px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">   </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- This script adds the Roboto font to our project. For more detail go to this site:  http://www.google.com/fonts#UsePlace:use/Collection:Roboto:400,300,500 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> WebFontConfig = &#123;</span></span><br><span class="line"><span class="actionscript">        google: &#123; families: [ <span class="string">'Roboto:400,300,500:latin'</span> ] &#125;</span></span><br><span class="line"><span class="undefined">      &#125;;</span></span><br><span class="line"><span class="actionscript">      (<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> wf = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span></span><br><span class="line"><span class="actionscript">        wf.src = <span class="string">'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js'</span>;</span></span><br><span class="line"><span class="actionscript">        wf.type = <span class="string">'text/javascript'</span>;</span></span><br><span class="line"><span class="actionscript">        wf.async = <span class="string">'true'</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'script'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="undefined">        s.parentNode.insertBefore(wf, s);</span></span><br><span class="line"><span class="undefined">      &#125;)();</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/static/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"react"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"react page"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"node server.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"babel-polyfill"</span>: <span class="string">"^6.3.14"</span>,</span><br><span class="line">    <span class="attr">"isomorphic-fetch"</span>: <span class="string">"^2.1.1"</span>,</span><br><span class="line">    <span class="attr">"material-ui"</span>: <span class="string">"^0.16.4"</span>,</span><br><span class="line">    <span class="attr">"react"</span>: <span class="string">"^15.4.1"</span>,</span><br><span class="line">    <span class="attr">"react-dom"</span>: <span class="string">"^15.4.1"</span>,</span><br><span class="line">    <span class="attr">"react-redux"</span>: <span class="string">"^4.2.1"</span>,</span><br><span class="line">    <span class="attr">"react-router"</span>: <span class="string">"^2.0.0"</span>,</span><br><span class="line">    <span class="attr">"react-router-redux"</span>: <span class="string">"^4.0.0"</span>,</span><br><span class="line">    <span class="attr">"react-tap-event-plugin"</span>: <span class="string">"^2.0.1"</span>,</span><br><span class="line">    <span class="attr">"redux"</span>: <span class="string">"^3.2.1"</span>,</span><br><span class="line">    <span class="attr">"redux-logger"</span>: <span class="string">"^2.4.0"</span>,</span><br><span class="line">    <span class="attr">"redux-thunk"</span>: <span class="string">"^1.0.3"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"babel-core"</span>: <span class="string">"^6.3.15"</span>,</span><br><span class="line">    <span class="attr">"babel-loader"</span>: <span class="string">"^6.2.0"</span>,</span><br><span class="line">    <span class="attr">"babel-preset-es2015"</span>: <span class="string">"^6.3.13"</span>,</span><br><span class="line">    <span class="attr">"babel-preset-react"</span>: <span class="string">"^6.3.13"</span>,</span><br><span class="line">    <span class="attr">"babel-preset-react-hmre"</span>: <span class="string">"^1.1.1"</span>,</span><br><span class="line">    <span class="attr">"expect"</span>: <span class="string">"^1.6.0"</span>,</span><br><span class="line">    <span class="attr">"express"</span>: <span class="string">"^4.13.3"</span>,</span><br><span class="line">    <span class="attr">"node-libs-browser"</span>: <span class="string">"^0.5.2"</span>,</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^1.9.11"</span>,</span><br><span class="line">    <span class="attr">"webpack-dev-middleware"</span>: <span class="string">"^1.2.0"</span>,</span><br><span class="line">    <span class="attr">"webpack-hot-middleware"</span>: <span class="string">"^2.9.1"</span>,</span><br><span class="line">    <span class="attr">"redux-devtools"</span>: <span class="string">"^3.3.1"</span>,</span><br><span class="line">    <span class="attr">"redux-devtools-dock-monitor"</span>: <span class="string">"^1.1.1"</span>,</span><br><span class="line">    <span class="attr">"redux-devtools-log-monitor"</span>: <span class="string">"^1.0.11"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="configureStore-js"><a href="#configureStore-js" class="headerlink" title="configureStore.js"></a>configureStore.js</h3><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"><span class="keyword">import</span> thunkMiddleware <span class="keyword">from</span> <span class="string">'redux-thunk'</span></span><br><span class="line"><span class="keyword">import</span> createLogger <span class="keyword">from</span> <span class="string">'redux-logger'</span></span><br><span class="line"><span class="keyword">import</span> rootReducer <span class="keyword">from</span> <span class="string">'../reducers'</span></span><br><span class="line"><span class="keyword">import</span> DevTools <span class="keyword">from</span> <span class="string">'../containers/DevTools'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">configureStore</span>(<span class="params">preloadedState</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> store = createStore(</span><br><span class="line">    rootReducer,</span><br><span class="line">    preloadedState,</span><br><span class="line">    compose(</span><br><span class="line">      applyMiddleware(thunkMiddleware, createLogger()),</span><br><span class="line">      DevTools.instrument()</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">    <span class="built_in">module</span>.hot.accept(<span class="string">'../reducers'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> nextRootReducer = <span class="built_in">require</span>(<span class="string">'../reducers'</span>)</span><br><span class="line">      store.replaceReducer(nextRootReducer)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> store</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> fetch <span class="keyword">from</span> <span class="string">'isomorphic-fetch'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> TODOS_REQUEST = <span class="string">'TODOS_REQUEST'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> TODOS_SUCCESS = <span class="string">'TODOS_SUCCESS'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> TODOS_FAILURE = <span class="string">'TODOS_FAILURE'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">loadTodos</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"获取数据"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">dispatch, getState</span>) =&gt;</span> &#123;</span><br><span class="line">    dispatch(requestTodos());</span><br><span class="line">    <span class="keyword">return</span> fetch(<span class="string">'/todo/api/v1.0/todos'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span></span><br><span class="line">        response.json().then(<span class="function"><span class="params">json</span> =&gt;</span> (&#123; json, response &#125;))</span><br><span class="line">      ).then(<span class="function">(<span class="params">&#123; json, response &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (!response.ok) &#123;</span><br><span class="line">              dispatch(requestTodosFailure())</span><br><span class="line">          &#125;</span><br><span class="line">          dispatch(requestTodosSuccess(json))</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">requestTodoList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  dispatch(requestTodos());</span><br><span class="line">  <span class="keyword">return</span> fetch(<span class="string">'/todo/api/v1.0/todos'</span>)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span></span><br><span class="line">      response.json().then(<span class="function"><span class="params">json</span> =&gt;</span> (&#123; json, response &#125;))</span><br><span class="line">    ).then(<span class="function">(<span class="params">&#123; json, response &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(json);</span><br><span class="line">        <span class="keyword">if</span> (!response.ok) &#123;</span><br><span class="line">            dispatch(requestTodosFailure())</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(json);</span><br><span class="line">        dispatch(requestTodosSuccess(json))</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestTodos</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    type: TODOS_REQUEST,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestTodosFailure</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    type: TODOS_FAILURE,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestTodosSuccess</span>(<span class="params">json</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(json);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    type: TODOS_SUCCESS,</span><br><span class="line">    data: json,</span><br><span class="line">    receivedAt: <span class="built_in">Date</span>.now()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="reducers"><a href="#reducers" class="headerlink" title="reducers"></a>reducers</h3><figure class="highlight pf"><table><tr><td class="code"><pre><span class="line">import * as ActionTypes <span class="keyword">from</span> '../actions'</span><br><span class="line"></span><br><span class="line">const selectedTodoList = (</span><br><span class="line">    <span class="keyword">state</span> = &#123;</span><br><span class="line">        isFetching: false</span><br><span class="line">    &#125;,</span><br><span class="line">        action) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case ActionTypes.TODOS_REQUEST:</span><br><span class="line">      return Object.assign(&#123;&#125;, <span class="keyword">state</span>, &#123;</span><br><span class="line">            isFetching: true</span><br><span class="line">          &#125;)</span><br><span class="line">    case ActionTypes.TODOS_SUCCESS:</span><br><span class="line">          return  Object.assign(&#123;&#125;, <span class="keyword">state</span>, &#123;</span><br><span class="line">            isFetching: false,</span><br><span class="line">            todos : action.data,</span><br><span class="line">            lastUpdated: action.receivedAt</span><br><span class="line">          &#125;)</span><br><span class="line">    case ActionTypes.TODOS_FAILURE:</span><br><span class="line">           return  Object.assign(&#123;&#125;, <span class="keyword">state</span>, &#123;</span><br><span class="line">            isFetching: false</span><br><span class="line">          &#125;)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      return <span class="keyword">state</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> selectedTodoList</span><br></pre></td></tr></table></figure>
<h3 id="Root-js"><a href="#Root-js" class="headerlink" title="Root.js"></a>Root.js</h3><figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, PropTypes &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Router, Route, IndexRoute, browserHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></span><br><span class="line"><span class="keyword">import</span> &#123; syncHistoryWithStore, routerReducer &#125; <span class="keyword">from</span> <span class="string">'react-router-redux'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> DevTools <span class="keyword">from</span> <span class="string">'./DevTools'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> Two <span class="keyword">from</span> <span class="string">'./Two'</span></span><br><span class="line"><span class="keyword">import</span> Three <span class="keyword">from</span> <span class="string">'./Three'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./Home'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Root</span> <span class="keyword">extends</span> <span class="title">Component</span> &#123;</span></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; store &#125; = <span class="keyword">this</span>.props</span><br><span class="line">    <span class="keyword">const</span> history = syncHistoryWithStore(browserHistory, store)</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;Router history=&#123;history&#125;&gt;</span><br><span class="line">            &lt;Route path=<span class="string">"/react"</span> component=&#123;App&#125;&gt;</span><br><span class="line">              &lt;IndexRoute component=&#123;Home&#125;/&gt;</span><br><span class="line">              &lt;Route path=<span class="string">"/react/two"</span> component=&#123;Two&#125;/&gt;</span><br><span class="line">              &lt;Route path=<span class="string">"/react/three"</span> component=&#123;Three&#125;/&gt;</span><br><span class="line">            &lt;/Route&gt;</span><br><span class="line">          &lt;/Router&gt;</span><br><span class="line">          &lt;DevTools /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/Provider&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Root.propTypes = &#123;</span><br><span class="line">  store: PropTypes.object.isRequired</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="React组件"><a href="#React组件" class="headerlink" title="React组件"></a>React组件</h2><p>组件继承自Component<br>constructor() 构造函数<br>componentDidMount() 声明周期中的一个方法，可以在此发起网络请求<br>render 绘制完成执行,返回组件view<br>App.propTypes 设置组件参数<br>mapStateToProps 绑定参数，及Action到组件<br>connect（） 连接action 和reducers 到组件</p>
<h2 id="redux-框架"><a href="#redux-框架" class="headerlink" title="redux 框架"></a>redux 框架</h2><p>用于方便复杂的管理state。<br>action描述了有事情发生了这一事实,<br>reducers 负责更新state,<br>store连接action和reducers 。<br>严格的单向数据流是 Redux 架构的设计核心。</p>
<p>action : 传递数据从应用到store. 操作网络。或者数据库，返回action type<br>reducers : 根据action type 更新state<br>store: 把action 和reducers联系到一起的对象。</p>
<p>createStore方法创建store reducers 作为参数传入 当需要操作时 store.dispatch(action) state: 全局状态树，维护组件数据。 与view组件绑定，当state变化，view刷新</p>
<p>单向数据流： UI操作–&gt;调用store.dispatch(action)–&gt;action做一些业务操作，返回type–&gt; reducers根据type做相应处理，更新state–&gt; 新的state更新UI</p>
<p>redux-thunk : 一个用于实现异步的中间件。 中间间三层调用 store =&gt; next =&gt; action =&gt;</p>
<p>个人应用开发技术栈：<br>web端：<br>后端python，web框架Flask部署在leancoud，定时任务python爬虫抓取数据，提供restful api。<br>前端react，css框架bootstrap构建页面。<br>移动端： React Native。Android端目前并不是很成熟，不知何时能有稳定版本。</p>

      
    </div>

    
      
      



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/React/">React</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2016/04/15/Android自动化构建/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Android自动化构建</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/2016/03/17/数据加密-MD5/">
        <span class="next-text nav-default">数据加密MD5</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  

  



    
  



  
  





  
    <script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.10.1"></script>

  </body>
</html>
